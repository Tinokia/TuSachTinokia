<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Tra Can Chi & M·ªánh Ng≈© H√†nh</title>
  <style>
    body { font-family: Arial; padding: 20px; background: #fdfcf2; }
    h2 { color: #0e6251; }
    input, button { font-size: 16px; margin-top: 10px; }
    .result { margin-top: 20px; font-weight: bold; color: #154360; }
  </style>
</head>
<body>
  <h2>Tra Can Chi v√† M·ªánh theo S√°ch & L·ªãch Chu·∫©n</h2>
  <label>Nh·∫≠p nƒÉm d∆∞∆°ng l·ªãch: </label>
  <input type="number" id="nam" value="">
  <button onclick="tinhCanChi()">T√≠nh</button>
  <div class="result" id="ketQua"></div>

  <script>
    const can = ["Gi√°p", "·∫§t", "B√≠nh", "ƒêinh", "M·∫≠u", "K·ª∑", "Canh", "T√¢n", "Nh√¢m", "Qu√Ω"];
    const chi = ["T√Ω", "S·ª≠u", "D·∫ßn", "M√£o", "Th√¨n", "T·ªµ", "Ng·ªç", "M√πi", "Th√¢n", "D·∫≠u", "Tu·∫•t", "H·ª£i"];

    const mocNam = 1969;
    const mocCan = "K·ª∑";
    const mocChi = "D·∫≠u";

    const menhByCanChi = {
      "Gi√°p T√Ω": "H·∫£i Trung Kim", "·∫§t S·ª≠u": "H·∫£i Trung Kim",
      "B√≠nh D·∫ßn": "L√¥ Trung H·ªèa", "ƒêinh M√£o": "L√¥ Trung H·ªèa",
      "M·∫≠u Th√¨n": "ƒê·∫°i L√¢m M·ªôc", "K·ª∑ T·ªµ": "ƒê·∫°i L√¢m M·ªôc",
      "Canh Ng·ªç": "L·ªô B√†ng Th·ªï", "T√¢n M√πi": "L·ªô B√†ng Th·ªï",
      "Nh√¢m Th√¢n": "Ki·∫øm Phong Kim", "Qu√Ω D·∫≠u": "Ki·∫øm Phong Kim",
      "Gi√°p Tu·∫•t": "S∆°n ƒê·∫ßu H·ªèa", "·∫§t H·ª£i": "S∆°n ƒê·∫ßu H·ªèa",
      "B√≠nh T√Ω": "Gi·∫£n H·∫° Th·ªßy", "ƒêinh S·ª≠u": "Gi·∫£n H·∫° Th·ªßy",
      "M·∫≠u D·∫ßn": "Th√†nh ƒê·∫ßu Th·ªï", "K·ª∑ M√£o": "Th√†nh ƒê·∫ßu Th·ªï",
      "Canh Th√¨n": "B·∫°ch L·∫°p Kim", "T√¢n T·ªµ": "B·∫°ch L·∫°p Kim",
      "Nh√¢m Ng·ªç": "D∆∞∆°ng Li·ªÖu M·ªôc", "Qu√Ω M√πi": "D∆∞∆°ng Li·ªÖu M·ªôc",
      "Gi√°p Th√¢n": "Tuy·ªÅn Trung Th·ªßy", "·∫§t D·∫≠u": "Tuy·ªÅn Trung Th·ªßy",
      "B√≠nh Tu·∫•t": "·ªêc Th∆∞·ª£ng Th·ªï", "ƒêinh H·ª£i": "·ªêc Th∆∞·ª£ng Th·ªï",
      "M·∫≠u T√Ω": "T√≠ch L·ªãch H·ªèa", "K·ª∑ S·ª≠u": "T√≠ch L·ªãch H·ªèa",
      "Canh D·∫ßn": "T√πng B√°ch M·ªôc", "T√¢n M√£o": "T√πng B√°ch M·ªôc",
      "Nh√¢m Th√¨n": "Tr∆∞·ªùng L∆∞u Th·ªßy", "Qu√Ω T·ªµ": "Tr∆∞·ªùng L∆∞u Th·ªßy",
      "Gi√°p Ng·ªç": "Sa Trung Kim", "·∫§t M√πi": "Sa Trung Kim",
      "B√≠nh Th√¢n": "S∆°n H·∫° H·ªèa", "ƒêinh D·∫≠u": "S∆°n H·∫° H·ªèa",
      "M·∫≠u Tu·∫•t": "B√¨nh ƒê·ªãa M·ªôc", "K·ª∑ H·ª£i": "B√¨nh ƒê·ªãa M·ªôc",
      "Canh T√Ω": "B√≠ch Th∆∞·ª£ng Th·ªï", "T√¢n S·ª≠u": "B√≠ch Th∆∞·ª£ng Th·ªï",
      "Nh√¢m D·∫ßn": "Kim B·∫°ch Kim", "Qu√Ω M√£o": "Kim B·∫°ch Kim",
      "Gi√°p Th√¨n": "Ph√∫ ƒêƒÉng H·ªèa", "·∫§t T·ªµ": "Ph√∫ ƒêƒÉng H·ªèa",
      "B√≠nh Ng·ªç": "Thi√™n H√† Th·ªßy", "ƒêinh M√πi": "Thi√™n H√† Th·ªßy",
      "M·∫≠u Th√¢n": "ƒê·∫°i Tr·∫°ch Th·ªï", "K·ª∑ D·∫≠u": "ƒê·∫°i Tr·∫°ch Th·ªï",
      "Canh Tu·∫•t": "Thoa Xuy·∫øn Kim", "T√¢n H·ª£i": "Thoa Xuy·∫øn Kim",
      "Nh√¢m T√Ω": "Tang ƒê·ªë M·ªôc", "Qu√Ω S·ª≠u": "Tang ƒê·ªë M·ªôc",
      "Gi√°p D·∫ßn": "ƒê·∫°i Kh√™ Th·ªßy", "·∫§t M√£o": "ƒê·∫°i Kh√™ Th·ªßy",
      "B√≠nh Th√¨n": "Sa Trung Th·ªï", "ƒêinh T·ªµ": "Sa Trung Th·ªï",
      "M·∫≠u Ng·ªç": "Thi√™n Th∆∞·ª£ng H·ªèa", "K·ª∑ M√πi": "Thi√™n Th∆∞·ª£ng H·ªèa",
      "Canh Th√¢n": "Th·∫°ch L·ª±u M·ªôc", "T√¢n D·∫≠u": "Th·∫°ch L·ª±u M·ªôc",
      "Nh√¢m Tu·∫•t": "ƒê·∫°i H·∫£i Th·ªßy", "Qu√Ω H·ª£i": "ƒê·∫°i H·∫£i Th·ªßy"
    };

    function tinhCanChi() {
      const nam = parseInt(document.getElementById("nam").value);
      const saiSo = nam - mocNam;
      const mocCanIndex = can.indexOf(mocCan);
      const mocChiIndex = chi.indexOf(mocChi);

      // Theo s√°ch
      const canIndexSach = ((mocCanIndex - saiSo) % 10 + 10) % 10;
      const chiIndexSach = ((mocChiIndex - saiSo) % 12 + 12) % 12;
      const canChiSach = can[canIndexSach] + " " + chi[chiIndexSach];
      const menhSach = menhByCanChi[canChiSach] || "Kh√¥ng r√µ";

      // Theo ƒë√∫ng
      const canIndexDung = (nam + 6) % 10;
      const chiIndexDung = (nam + 8) % 12;
      const canChiDung = can[canIndexDung] + " " + chi[chiIndexDung];
      const menhDung = menhByCanChi[canChiDung] || "Kh√¥ng r√µ";

      // K·∫øt qu·∫£
      const text = `
        ‚úÖ NƒÉm ${nam} theo s√°ch Di·ªÖn C·∫ßm Tam Th·∫ø: <b>${canChiSach}</b><br>
        üî• M·ªánh theo s√°ch: <b>${menhSach}</b><br><br>
        üìò NƒÉm ${nam} theo Can Chi ƒë√∫ng: <b>${canChiDung}</b><br>
        üåü M·ªánh ƒë√∫ng theo Can Chi: <b>${menhDung}</b>
      `;
      document.getElementById("ketQua").innerHTML = text;
    }
  </script>
</body>
</html>
